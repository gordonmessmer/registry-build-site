<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>registry-build - One Spec, Many Deployments</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Hero Section -->
    <div class="hero">
        <div class="container">
            <h1>registry-build</h1>
            <div class="tagline">One Spec, Many Deployments</div>
            <p>RPM spec as a unified build definition for CI/CD pipelines, testing, and deployment across package repositories, software collections, and containers.</p>
        </div>
    </div>

    <!-- Core Concept Section -->
    <div class="section">
        <div class="container">
            <h2 class="section-title">A Unified Path from Source to Deployment</h2>
            <p class="section-subtitle">RPM spec files provide a consistent, proven build definition that works across your entire pipeline. Write your spec once, then build and test in CI, deploy to package repos, create portable collections, or package for containers‚Äîall from the same source of truth.</p>

            <div class="highlight-box">
                <h3>Why RPM Spec?</h3>
                <p>RPM spec is a mature, standardized format for describing how to build software. It handles dependencies, build steps, installation paths, and package metadata in a declarative way. Unlike fragmented tooling where you define builds differently for each deployment target, RPM spec gives you one definition that adapts to multiple deployment types through build-time configuration.</p>
            </div>
        </div>
    </div>

    <!-- Deployment Types Section -->
    <div class="section" style="background: white;">
        <div class="container">
            <h2 class="section-title">Same Spec, Multiple Deployment Targets</h2>
            <p class="section-subtitle">The power of RPM spec lies in its flexibility. Configure your deployment type at build time, and the same spec adapts to produce the right output.</p>

            <div class="deployment-grid">
                <div class="deployment-card">
                    <div class="deployment-icon">üì¶</div>
                    <h3>Package Repositories</h3>
                    <p>Traditional YUM/DNF repositories for distribution-wide deployment. Perfect for system packages and infrastructure components.</p>
                    <div class="collapsible">
                        <div class="collapsible-header">See Configuration</div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code># build-assist.yaml
base: fedora-39-x86_64

build:
  - type: dist-git
    url: https://src.fedoraproject.org/rpms/
    packages:
      - nginx:f39
      - postgresql:f39
      - redis:f39

# Creates standard RPM repository</code></pre>
                            </div>
                        </div>
                    </div>
                    <p class="spec-note">‚Üí Same spec, standard install paths</p>
                </div>

                <div class="deployment-card">
                    <div class="deployment-icon">üìö</div>
                    <h3>Software Collections</h3>
                    <p>Portable, self-contained application bundles with rpath. Deploy across distributions with compatible libc without package manager integration.</p>
                    <div class="collapsible">
                        <div class="collapsible-header">See Configuration</div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code># build-assist.yaml
base: fedora-39-x86_64

build:
  - type: git
    url: https://github.com/myorg/
    packages:
      - python312:main
      - python312-pip:main
      - python312-flask:main

install:
  type: software-collection
  collection: python312
  packages:
    - python312
    - python312-pip
    - python312-flask

# Installs to /opt/python312 with rpath</code></pre>
                            </div>
                        </div>
                    </div>
                    <p class="spec-note">‚Üí Same spec, /opt prefix + rpath</p>
                </div>

                <div class="deployment-card">
                    <div class="deployment-icon">üì±</div>
                    <h3>Flatpak Applications</h3>
                    <p>Sandboxed desktop applications with automatic dependency bundling and runtime isolation.</p>
                    <div class="collapsible">
                        <div class="collapsible-header">See Configuration</div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code># build-assist.yaml
base: fedora-39-x86_64

build:
  - type: git
    url: https://github.com/myorg/
    packages:
      - myapp:main
      - myapp-plugins:main

install:
  type: flatpak
  packages:
    - myapp
    - myapp-plugins

# Installs to /app prefix</code></pre>
                            </div>
                        </div>
                    </div>
                    <p class="spec-note">‚Üí Same spec, /app prefix</p>
                </div>

                <div class="deployment-card">
                    <div class="deployment-icon">üê≥</div>
                    <h3>Container Images</h3>
                    <p>Build container-ready packages with proper metadata and dependency chains for optimal layer caching.</p>
                    <div class="collapsible">
                        <div class="collapsible-header">See Configuration</div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code># build-assist.yaml
base: fedora-39-x86_64

build:
  - type: dist-git
    url: https://src.fedoraproject.org/rpms/
    packages:
      - nginx:f39
      - webapp:main

install:
  type: container
  packages:
    - nginx
    - webapp

# Optimized for container layers</code></pre>
                            </div>
                        </div>
                    </div>
                    <p class="spec-note">‚Üí Same spec, container-optimized</p>
                </div>

                <div class="deployment-card">
                    <div class="deployment-icon">‚ö°</div>
                    <h3>CI/CD Testing</h3>
                    <p>Use the same build definition in your continuous integration pipeline to ensure what you test is what you deploy.</p>
                    <div class="collapsible">
                        <div class="collapsible-header">See Configuration</div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code># build-assist.yaml - CI mode
base: fedora-39-x86_64

build:
  - type: git
    url: https://github.com/myorg/
    packages:
      - webapp:${GIT_BRANCH}
      - webapp-tests:${GIT_BRANCH}

# Build from current branch
# Run tests with same build process
# No "works on my machine" issues</code></pre>
                            </div>
                        </div>
                    </div>
                    <p class="spec-note">‚Üí Same spec, current branch</p>
                </div>

                <div class="deployment-card">
                    <div class="deployment-icon">üöÄ</div>
                    <h3>Development Builds</h3>
                    <p>Build directly from source repositories without a release process. Perfect for rapid iteration and testing upstream changes.</p>
                    <div class="collapsible">
                        <div class="collapsible-header">See Configuration</div>
                        <div class="collapsible-content">
                            <div class="collapsible-inner">
                                <pre><code># build-assist.yaml
base: fedora-39-x86_64

build:
  - type: git
    url: https://github.com/myorg/
    packages:
      - webapp:main
      - webapp-api:main

# Builds from HEAD
# No tags or releases needed
# Deploy bug fixes immediately</code></pre>
                            </div>
                        </div>
                    </div>
                    <p class="spec-note">‚Üí Same spec, no release process</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Benefits Section -->
    <div class="section">
        <div class="container">
            <h2 class="section-title">Benefits of a Unified Build Definition</h2>
            <p class="section-subtitle">When your entire pipeline uses the same build definition, friction disappears.</p>

            <div class="benefits-grid">
                <div class="benefit-card">
                    <h3>Consistency Across Environments</h3>
                    <p>Development, testing, staging, and production all use the same RPM spec. No more "it works in dev but fails in prod" because builds differ.</p>
                </div>

                <div class="benefit-card">
                    <h3>Reduced Friction</h3>
                    <p>Following stable upstream releases directly reduces friction between developers and users. Bug fixes flow to production without manual repackaging.</p>
                </div>

                <div class="benefit-card">
                    <h3>Lower Maintenance Overhead</h3>
                    <p>Automated tracking of upstream releases means maintainers focus on code, not on manually updating package definitions across multiple systems.</p>
                </div>

                <div class="benefit-card">
                    <h3>Deployment Flexibility</h3>
                    <p>Choose your deployment method based on user needs, not build system constraints. Switch between repos, collections, and containers without rewriting specs.</p>
                </div>

                <div class="benefit-card">
                    <h3>Proven Technology</h3>
                    <p>RPM has powered enterprise Linux distributions for decades. It's mature, well-documented, and supported by extensive tooling.</p>
                </div>

                <div class="benefit-card">
                    <h3>Monorepo-Like Velocity</h3>
                    <p>Building from source-git repos removes release processes from deployment pipelines, giving you monorepo benefits while maintaining package boundaries.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Supporting Tools Section -->
    <div class="tools-section">
        <div class="container">
            <h2 class="section-title">Supporting Automation</h2>
            <p class="section-subtitle">registry-build provides tools to automate the maintenance and building of RPM-spec-based pipelines.</p>

            <div class="tools-compact">
                <div class="tool-compact">
                    <h4>dist-git-manager</h4>
                    <p>Automates dist-git repository maintenance: monitors upstream releases, updates specs, manages SemVer release branches.</p>
                </div>

                <div class="tool-compact">
                    <h4>source-git-manager</h4>
                    <p>Mirrors upstream repositories and manages release branches with RPM specs for building directly from source.</p>
                </div>

                <div class="tool-compact">
                    <h4>rpm-build-assist</h4>
                    <p>Builds RPM packages from dist-git or source-git with support for multiple deployment types via build-time configuration.</p>
                </div>

                <div class="tool-compact" style="border-left: 3px solid #0ea5e9;">
                    <h4><a href="docker-comparison.html" style="color: var(--text); text-decoration: none;">Docker vs RPM Comparison ‚Üí</a></h4>
                    <p>See how RPM-based builds compare to traditional Dockerfiles in complexity, maintainability, and reusability.</p>
                </div>

                <div class="tool-compact" style="border-left: 3px solid #10b981;">
                    <h4><a href="portable-applications.html" style="color: var(--text); text-decoration: none;">Portable Applications ‚Üí</a></h4>
                    <p>Build self-contained application bundles using package collections that run across different Linux distributions.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- CTA Section -->
    <div class="cta">
        <div class="container">
            <h2>Ready for a Unified Build Pipeline?</h2>
            <p>Use RPM spec as your single source of truth from CI to deployment.</p>
            <a href="https://github.com/gmessmer/registry-build" class="cta-button">View on GitHub</a>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>registry-build - One Spec, Many Deployments</p>
        </div>
    </footer>

    <script>
        // Collapsible sections
        document.querySelectorAll('.collapsible-header').forEach(header => {
            header.addEventListener('click', function() {
                this.classList.toggle('active');
                const content = this.nextElementSibling;
                content.classList.toggle('active');
            });
        });
    </script>
</body>
</html>
